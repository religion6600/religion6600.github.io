[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "6600 Final Project",
    "section": "",
    "text": "hello world!"
  },
  {
    "objectID": "code/clustering.html",
    "href": "code/clustering.html",
    "title": "Clustering Analysis",
    "section": "",
    "text": "import pandas as pd\nfrom sklearn.cluster import KMeans\nfrom sklearn.preprocessing import StandardScaler\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.metrics import silhouette_score\ndf = pd.read_csv(\"../data/religion_data.csv\")\ndf.head()\n\n\n\n\n\n\n\n\nP_SUID\nYEAR_FROM_CODATE\nHAPPY\nSATIS_A\nSATIS_B\nCHNG_A\nCHNG_B\nCHNG_C\nDIVRELPOP\nDIVRACPOP\n...\nMOVED\nREG\nPARTY\nIDEO\nHH1REC\nINTFREQ\nINC_SDT1\nGENDER\nFERTREC\nWEIGHT\n\n\n\n\n0\n10000040\n2023\n1\n2\n2\n2\n3\n2\n2\n3\n...\n1\n1\n1\n1\n3\n2\n2\n2\n1\n4399.707781\n\n\n1\n10000060\n2023\n1\n2\n1\n1\n1\n1\n1\n1\n...\n2\n1\n2\n5\n3\n2\n7\n2\n2\n6693.424549\n\n\n2\n10000140\n2024\n2\n2\n3\n3\n1\n1\n1\n1\n...\n1\n1\n3\n3\n2\n1\n7\n2\n0\n3080.916226\n\n\n3\n10000150\n2023\n3\n3\n3\n2\n1\n2\n3\n1\n...\n2\n1\n1\n3\n2\n2\n99\n2\n2\n5470.685158\n\n\n4\n10000160\n2023\n3\n1\n1\n3\n1\n2\n1\n1\n...\n2\n1\n2\n4\n2\n1\n5\n2\n2\n2474.921511\n\n\n\n\n5 rows × 107 columns"
  },
  {
    "objectID": "code/clustering.html#selecting-relevant-features",
    "href": "code/clustering.html#selecting-relevant-features",
    "title": "Clustering Analysis",
    "section": "Selecting Relevant Features",
    "text": "Selecting Relevant Features\n\nfeatures = [\n    'CHNG_C',        # Views on transgender people\n    'DIVRELPOP',     # Diversity of religion in society\n    'DIVRACPOP',     # Diversity of race in society\n    'QB2A', 'QB2C', 'QB2D',  # Values: homosexuality, environment, right/wrong\n    'OPENIDEN', 'POORASSIST', 'GOVSIZE1',\n    'ABRTLGL', 'GAYMARR',  # Abortion & gay marriage\n    'CLIM1A', 'EVOL',      # Climate & evolution\n    'GUIDE_B', 'GUIDE_C', 'GUIDE_D',  # Logic, science, common sense\n    'MARITAL', 'CHILDREN', 'GENDER', 'BIRTHDECADE',\n    'EDUCREC', 'EMPLSIT', 'USGEN', 'REG', 'PARTY', 'IDEO',\n    'HH1REC', 'INTFREQ', 'INC_SDT1'\n]"
  },
  {
    "objectID": "code/clustering.html#k-means",
    "href": "code/clustering.html#k-means",
    "title": "Clustering Analysis",
    "section": "K-Means",
    "text": "K-Means\nWe applied KMeans clustering to a set of respondents using a range of non-religious socio-political and demographic features, including views on gender and sexuality, political ideology, education, income, attitudes toward science and government, and more. The goal was to determine whether individuals naturally group into distinct sociocultural profiles — and to assess how those profiles correspond (if at all) with religious tradition (RELTRAD).\n\nOptimal # of CLusters\nFirst we attempted to find optimalk with elbow method but it’s not exactly clear, possible k=5.\n\nX = df[features].dropna()  # Drop rows with missing values\n\n# Keep original indices to map back religion\ndf_clean = df.loc[X.index]\n\n# Scale features\nscaler = StandardScaler()\nX_scaled = scaler.fit_transform(X)\n\n# Elbow Method to choose k\nwcss = []\nfor i in range(2, 10):\n    kmeans = KMeans(n_clusters=i, random_state=42)\n    kmeans.fit(X_scaled)\n    wcss.append(kmeans.inertia_)\n\nplt.plot(range(2, 10), wcss, marker='o')\nplt.title(\"Elbow Method for Optimal k\")\nplt.xlabel(\"Number of clusters\")\nplt.ylabel(\"WCSS\")\nplt.show()\n\n\n\n\n\n\n\n\nSilhouette Score demonstrates that optimal k=2, but there are more than two religions so this may be limiting - we won’t be able to map religions directly but we can possibly see traditionalist religions vs progressive.\n\n\nK = 2\n\nsilhouette_scores = []\nK_range = range(2, 10)\n\nfor k in K_range:\n    kmeans = KMeans(n_clusters=k, random_state=42)\n    labels = kmeans.fit_predict(X_scaled)\n    score = silhouette_score(X_scaled, labels)\n    silhouette_scores.append(score)\n\nplt.figure(figsize=(8, 5))\nplt.plot(K_range, silhouette_scores, marker='o')\nplt.title('Silhouette Score for different k')\nplt.xlabel('Number of clusters (k)')\nplt.ylabel('Silhouette Score')\nplt.xticks(K_range)\nplt.show()\n\n\n\n\n\n\n\n\n\nfrom sklearn.cluster import KMeans\n\nkmeans = KMeans(n_clusters=2, random_state=42)\ndf_clean['cluster'] = kmeans.fit_predict(X_scaled)\n\n\nfrom sklearn.decomposition import PCA\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\npca = PCA(n_components=2)\nX_pca = pca.fit_transform(X_scaled)\ndf_clean['pca1'] = X_pca[:, 0]\ndf_clean['pca2'] = X_pca[:, 1]\n\nplt.figure(figsize=(8, 6))\nsns.scatterplot(data=df_clean, x='pca1', y='pca2', hue='cluster', palette='Set2')\nplt.title(\"KMeans Clustering with k=2 (PCA-reduced)\")\nplt.show()\n\n\n\n\n\n\n\n\n\npd.crosstab(df_clean['cluster'], df_clean['RELTRAD'])\n\n\n\n\n\n\n\nRELTRAD\n1100\n1200\n1300\n10000\n20000\n30000\n40001\n40002\n50000\n60000\n70000\n80000\n90001\n90002\n100000\n900000\n\n\ncluster\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n0\n7791\n5023\n1342\n6564\n545\n209\n88\n210\n821\n250\n336\n219\n93\n725\n10317\n311\n\n\n1\n507\n310\n126\n394\n20\n16\n25\n16\n29\n23\n12\n28\n6\n36\n412\n104\n\n\n\n\n\n\n\nCluster profiles by feature (Standardized Average)\n\ncluster_profiles = df_clean.groupby('cluster')[features].mean().T\ncluster_profiles.columns = [f'Cluster {i}' for i in cluster_profiles.columns]\ncluster_profiles.plot(kind='bar', figsize=(16, 6), colormap='Set2')\nplt.title(\"Cluster Feature Averages (k=2)\")\nplt.ylabel(\"Mean value (standardized scale)\")\nplt.xticks(rotation=45, ha='right')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\nCluster 0: Traditionalist-Conservative Profile - Lower support for abortion access, gay marriage, and transgender rights - Lower scores on science-based decision-making and belief in evolution - More traditional views on family, gender, and government roles - Slightly lower educational attainment and income - Politically more conservative on average\nCluster 1: Progressive-Secular Profile - Significantly higher support for LGBTQ+ rights, abortion, and climate action - Stronger emphasis on scientific reasoning, logic, and evolution acceptance - Higher average education and income levels - More likely to be politically liberal or Democratic - More urban and socially inclusive profile\n*RELTRAD Distribution per Cluster\n\nreltrad_labels = {\n    1100: \"Evangelical Protestant\",\n    1200: \"Mainline Protestant\",\n    1300: \"Historically Black Protestant\",\n    10000: \"Catholic\",\n    20000: \"Mormon\",\n    30000: \"Orthodox Christian\",\n    40001: \"Jehovah's Witness\",\n    40002: \"Other Christian\",\n    50000: \"Jewish\",\n    60000: \"Muslim\",\n    70000: \"Buddhist\",\n    80000: \"Hindu\",\n    90001: \"Other World Religions\",\n    90002: \"Other Faiths\",\n    100000: \"Religiously Unaffiliated\",\n    900000: \"Don't know/refused\"\n}\n\n\ndf_clean['RELTRAD_label'] = df_clean['RELTRAD'].map(reltrad_labels)\nct = pd.crosstab(df_clean['cluster'], df_clean['RELTRAD_label'], normalize='index')\n\nct.plot(kind='bar', stacked=True, figsize=(14, 7), colormap='tab20')\nplt.title(\"RELTRAD Distribution by Cluster (k=2)\")\nplt.xlabel(\"Cluster\")\nplt.ylabel(\"Proportion\")\nplt.legend(title=\"Religious Tradition\", bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nConclusions:\n\nMost major religious traditions (Evangelical, Catholic, Mainline Protestant) are evenly distributed across clusters.\nThis suggests that religious identity alone does not strongly predict worldview orientation.\nFor example, ~23% of both clusters are Evangelical Protestants, despite vast differences in cultural values.\nThe Religiously Unaffiliated group is overrepresented in Cluster 0, the “Traditionalist” cluster.\nThis is a bit counterintuitive — and likely reflects the diversity within the unaffiliated group, which includes atheists, agnostics, spiritual-but-not-religious individuals, and culturally non-religious people with differing values.\nCluster 1 includes relatively higher proportions of religious minorities and smaller groups (e.g., Hindu, Muslim, Buddhist), but numbers are small in both.\nPeople of the same religion — particularly large groups like Evangelicals, Catholics, and the Unaffiliated — are found in both clusters, revealing intra-religious ideological diversity."
  },
  {
    "objectID": "code/clustering.html#k-5",
    "href": "code/clustering.html#k-5",
    "title": "Clustering Analysis",
    "section": "K = 5",
    "text": "K = 5\nNow we will use k=5 to capture more nuanced sociopoltiical differences and possible capture differences between the two subgroups.\n\nkmeans_5 = KMeans(n_clusters=5, random_state=42)\ndf_clean['cluster_5'] = kmeans_5.fit_predict(X_scaled)\n\npca = PCA(n_components=2)\nX_pca = pca.fit_transform(X_scaled)\ndf_clean['pca1'] = X_pca[:, 0]\ndf_clean['pca2'] = X_pca[:, 1]\n\nplt.figure(figsize=(8, 6))\nsns.scatterplot(data=df_clean, x='pca1', y='pca2', hue='cluster_5', palette='Set2')\nplt.title(\"KMeans Clustering with k=5 (PCA-reduced)\")\nplt.legend(title='Cluster')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\nCluster profiles by feature (Standardized Average)\n\ncluster_profiles_5 = df_clean.groupby('cluster_5')[features].mean().T\ncluster_profiles_5.columns = [f'Cluster {i}' for i in cluster_profiles_5.columns]\ncluster_profiles_5.plot(kind='bar', figsize=(16, 6), colormap='Set2')\nplt.title(\"Cluster Feature Averages (k=5)\")\nplt.ylabel(\"Mean value (standardized scale)\")\nplt.xticks(rotation=45, ha='right')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nCluster 0 (Green-teal)\nModerate baseline across most features, with: - Low to moderate support for LGBTQ+ rights (CHNG_C), gay marriage (GAYMARR), and abortion access (ABRTLGL) - Lower belief in science-based reasoning (EVOL, GUIDE_D), but not the lowest - Slightly lower education (EDUCREC) and income (INC_SDT1) - Lower openness (OPENIDEN) and acceptance of diversity (DIVRELPOP, DIVRACPOP)\nThis cluster reflects a modestly traditional group with relatively lower political or social engagement. They may represent lower-income individuals with mixed or centrist values.\n\nCluster 1 (Blue): Strongly progressive values, including:\n\nHigh support for LGBTQ+ rights, abortion, and social inclusion\nElevated belief in evolution and use of science in decision-making (EVOL, GUIDE_B, GUIDE_D)\nHigher liberal political orientation (IDEO, PARTY)\nHigh education and income levels (EDUCREC, INC_SDT1)\nLow support for limited government (GOVSIZE1), possibly favoring social programs\n\nThis cluster appears to represent a progressive, well-educated population with a high level of civic engagement and trust in science.\nCluster 2 (Light Green): Defined by one dominant outlier:\n\nCLIM1A (concern about climate change) is extremely high—almost 100 on standardized scale\nFairly moderate or slightly progressive values across the board\n\nThis may represent a group strongly motivated by environmental concern, though the extreme spike in one feature could also reflect a data or scaling artifact.\nCluster 3 (Orange): Marked by very high civic and socioeconomic engagement\n\nStrong scores on political participation (PARTY, IDEO), education (EDUCREC), income (INC_SDT1), internet use (INTFREQ), and household size (HH1REC)\nAlso high on science-related features (EVOL, GUIDE_B/C/D)\nHigh support for LGBTQ+ rights, abortion, and openness\n\nThis cluster likely represents high-income, highly educated individuals with strong progressive values. Potentially urban, young professionals or politically active elites.\nCluster 4 (Gray): Distinct for strong traditional and conservative indicators.\n\nPreference for smaller government (GOVSIZE1)\nLow openness (OPENIDEN), low scientific reliance (GUIDE_D), and low diversity tolerance\nTraditional family values: higher scores on CHILDREN, GENDER, MARITAL\nLower political liberalism (IDEO, PARTY)\n\nThis cluster likely reflects a socially conservative population with strong emphasis on family, tradition, and limited government. Trust in science and progressive norms is relatively low.\n*RELTRAD Distribution per Cluster\n\n# Optional: drop \"refused\" or unclear categories\nexcluded = [\"Don't know/refused\", \"Other Christian\", \"Other World Religions\", \"Other Faiths\"]\ndf_clean = df_clean[~df_clean['RELTRAD_label'].isin(excluded)]\n\n# RELTRAD by cluster\nct_5 = pd.crosstab(df_clean['cluster_5'], df_clean['RELTRAD_label'], normalize='index')\nct_5.plot(kind='bar', stacked=True, figsize=(14, 7), colormap='tab20')\nplt.title(\"RELTRAD Distribution by Cluster (k=5)\")\nplt.xlabel(\"Cluster\")\nplt.ylabel(\"Proportion\")\nplt.legend(title=\"Religious Tradition\", bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nCluster 0: Mixed religious background with a high share of unaffiliated. Likely a moderately secular group.\nCluster 1: Heavily Evangelical Protestant. Strongly religious and likely more traditional.\nCluster 2: Balanced mix — Catholic, Protestant, and unaffiliated all present. Moderate religious diversity.\nCluster 3: Mostly unaffiliated. Reflects a highly secular, progressive group.\nCluster 4: Dominated by Evangelical Protestants, with some Catholic and Mainline. Likely socially conservative.\n\nIn short, Clusters 1 and 4 skew religious/traditional, while Cluster 3 is clearly secular. Clusters 0 and 2 fall somewhere in between."
  }
]